@page "/dashboard/analytic/view"
@inject IClientService ClientService
@inject IEmployeeService EmployeeService
@rendermode InteractiveServer

<PageTitle>Analytics - QHMCPro</PageTitle>

<div class="page-header">
    <div class="page-header-left">
        <h1>Analytics Dashboard</h1>
        <p>Key performance metrics and operational insights</p>
    </div>
    <div class="page-header-actions">
        <select class="form-control" style="width: auto;">
            <option>Last 30 Days</option>
            <option>Last 7 Days</option>
            <option>This Month</option>
            <option>This Year</option>
        </select>
    </div>
</div>

<div class="stats-row">
    <div class="stat-card">
        <div class="stat-icon blue"><i class="fa fa-user-tie"></i></div>
        <div class="stat-info">
            <h4>@clientCount</h4>
            <p>Active Clients</p>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon green"><i class="fa fa-users"></i></div>
        <div class="stat-info">
            <h4>@employeeCount</h4>
            <p>Active Employees</p>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon orange"><i class="fa fa-calendar-check"></i></div>
        <div class="stat-info">
            <h4>0</h4>
            <p>Schedules This Week</p>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon purple"><i class="fa fa-dollar-sign"></i></div>
        <div class="stat-info">
            <h4>$0.00</h4>
            <p>Revenue MTD</p>
        </div>
    </div>
</div>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 24px;">
    <div class="card">
        <div class="card-header">
            <h3>Client Growth Trend</h3>
        </div>
        <div class="card-body">
            <div class="empty-state" style="padding: 40px 20px;">
                <i class="fa fa-chart-area"></i>
                <h3>Chart Placeholder</h3>
                <p>Client growth data will be displayed here. Integrate a charting library like Chart.js or ApexCharts.
                </p>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-header">
            <h3>Employee Distribution</h3>
        </div>
        <div class="card-body">
            <div class="empty-state" style="padding: 40px 20px;">
                <i class="fa fa-chart-pie"></i>
                <h3>Chart Placeholder</h3>
                <p>Employee classification distribution will appear here.</p>
            </div>
        </div>
    </div>
</div>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
    <div class="card">
        <div class="card-header">
            <h3>Revenue vs Expenses</h3>
        </div>
        <div class="card-body">
            <div class="empty-state" style="padding: 40px 20px;">
                <i class="fa fa-chart-bar"></i>
                <h3>Chart Placeholder</h3>
                <p>Financial data comparison chart will be rendered here.</p>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-header">
            <h3>Schedule Utilization</h3>
        </div>
        <div class="card-body">
            <div class="empty-state" style="padding: 40px 20px;">
                <i class="fa fa-chart-line"></i>
                <h3>Chart Placeholder</h3>
                <p>Schedule utilization rate over time.</p>
            </div>
        </div>
    </div>
</div>

@code {
    private int clientCount;
    private int employeeCount;

    protected override async Task OnInitializedAsync()
    {
        clientCount = await ClientService.GetCountAsync();
        employeeCount = await EmployeeService.GetCountAsync();
    }
}
